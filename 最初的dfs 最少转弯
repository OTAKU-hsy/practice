#include<bits/stdc++.h>
using namespace std;
int n, m, xx, yy, xxx, yyy, ans = 0x7FFFFFFF;
int a[55][55];
int dx[4] = { 1,0,-1,0 };
int dy[4] = { 0,-1,0,1 };
//转弯的方向
void dfs(int x, int y, int t, int k){
//xy当前坐标 t为到达xy时的方向 k为到达xy转弯次数
	if (k >= ans)
		return;
	//放超时
	if (x == xxx && y == yyy) { 
		ans = k;
		return; 
	}
	for (int i = 0; i < 4; i++){
		int nx = dx[i] + x; 
		int ny = dy[i] + y;
		if (nx <= 0 || nx > n || ny <= 0 || ny > m)
			continue;
		if (a[nx][ny]){
			a[nx][ny] = 0;//不回头
			int f = 0;
			if (i != t && t!=-1)
				f = 1;//转弯
			dfs(nx, ny, i, k + f);
			a[nx][ny] = 1;
		}
	}
}
int main(){
	cin >> n >> m >> xx >> yy >> xxx >> yyy;
	for (int i = 1; i <= n; i++) {
		string t;
		cin >> t;
		for (int j = 1; j <= m; j++)
			if (t[j - 1] == '#') 
				a[i][j] = 1;
	}
	dfs(xx, yy, -1, 0);
	cout << ans;
	return 0;
}

//Input：
//10 50 7 1 10 29
//________#######___________________________________
//________#_____#___________________________________
//________#_____#_##########________________________
//________#_____#_#________#________________________
//________#_____#_#________#________________________
//________#_____#_#____#####________________________
//#_______#_____#_#____#____________________________
//##______#_____#_#____##___________________________
//###_____#_____#_#_____###_________________________
//#############################_____________________
//Output：
//1
